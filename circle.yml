machine:
  xcode:
    version: 7.3
dependencies:
  override:
    - set -o pipefail &&
      swiftlint lint --strict --reporter json |
      tee $CIRCLE_ARTIFACTS/swiftlint-report.json
    - git submodule sync --recursive
    - git submodule update --init --recursive
test:
  override:
    - bin/test iOS
    - bin/test tvOS
experimental:
  notify:
    branches:
      only:
        - master
